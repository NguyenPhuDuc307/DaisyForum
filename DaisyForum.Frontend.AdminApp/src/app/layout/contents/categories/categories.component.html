<p>{{screenTitle}}</p>
<div class="animated fadeIn">
    <p-panel #pnl>
        <p-header>
            <div class="ui-g-6">
                <button appPermission appFunction="CONTENT_CATEGORY" appAction="CREATE" pButton type="button"
                    label="Thêm" icon="fa fa-plus" (click)="showAddModal()"></button>
                <button appPermission appFunction="CONTENT_CATEGORY" appAction="DELETE" pButton type="button"
                    label="Xóa" icon="fa fa-trash" class="ui-button-danger" *ngIf="selectedItems.length > 0"
                    (click)="deleteItems()"></button>
                <button appPermission appFunction="CONTENT_CATEGORY" appAction="UPDATE" pButton type="button"
                    label="Sửa" icon="fa fa-edit" class="ui-button-warning" *ngIf="selectedItems.length== 1"
                    (click)="showEditModal()"></button>
            </div>
            <div class="ui-g-6">
                <input style="width: 100%;" pInputText (keyup.enter)="loadData()" [(ngModel)]="keyword"
                    placeholder="Nhập từ khóa..." type="text">
            </div>
        </p-header>

        <p-treeTable *ngIf="items" [value]="items" selectionMode="multiple" [(selection)]="selectedItems"
            [metaKeySelection]="true" (onNodeSelect)="nodeSelect($event)" (onNodeUnselect)="nodeUnSelect($event)"
            [scrollable]="true">
            <ng-template pTemplate="header">
                <tr>
                    <th style="width: 10%;">
                        <p-treeTableHeaderCheckbox></p-treeTableHeaderCheckbox>
                    </th>
                    <th>Mã</th>
                    <th class="pgrid-hidden-xs">Tên</th>
                    <th class="pgrid-hidden-xs">Alias</th>
                    <th>Thứ tự</th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-rowNode let-rowData="rowData">
                <tr [ttSelectableRow]="rowNode">
                    <td style="width: 10%;">
                        <p-treeTableToggler [rowNode]="rowNode"></p-treeTableToggler>
                        <p-treeTableCheckbox [value]="rowNode"></p-treeTableCheckbox>
                    </td>
                    <td>
                        {{rowData.id}}
                    </td>
                    <td>
                        {{rowData.name}}
                    </td>
                    <td class="pgrid-hidden-xs">
                        {{rowData.seoAlias}}
                    </td>
                    <td class="pgrid-hidden-sm">
                        {{rowData.sortOrder}}
                    </td>

                </tr>
            </ng-template>
        </p-treeTable>

    </p-panel>
</div>